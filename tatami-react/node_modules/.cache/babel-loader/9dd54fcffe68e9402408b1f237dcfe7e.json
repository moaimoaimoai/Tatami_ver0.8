{"ast":null,"code":"import _slicedToArray from\"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{ApiContext}from'../context/ApiContext';import{useHistory}from\"react-router-dom\";import LinearProgress from'@mui/joy/LinearProgress';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecommendEach=function RecommendEach(pageData,isfollow){var history=useHistory();var _useContext=useContext(ApiContext),newUserIntPage=_useContext.newUserIntPage,getUserInterest=_useContext.getUserInterest,monoposts=_useContext.monoposts;var toMonopage=function toMonopage(){var createdIntData=new FormData();createdIntData.append(\"intPageId\",pageData.pageData.id);newUserIntPage(createdIntData);getUserInterest();getUserInterest();getUserInterest();getUserInterest();history.push(\"/mono\");};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rate=_useState2[0],setRate=_useState2[1];// const [rates, setRates] = useState([]);\nvar postsforpage=monoposts.filter(function(each){return each.reviewTo===Number(pageData.pageData.id);});var rates=postsforpage.map(function(post){return post.rating;});var sum=0;for(var i=0;i<rates.length;i++){sum+=rates[i];}// rates&& setRate(Math.round(sum/rates.length))\nMath.round(sum/rates.length);console.log(rates);return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 col-sm-6 pe-2 ps-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card w-100 p-0 hover-card shadow-xss border-0 rounded-3 overflow-hidden me-2 ms-2 mb-3\",onClick:toMonopage,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image w-100 mb-3\",children:/*#__PURE__*/_jsx(\"a\",{className:\"position-relative d-block\",children:/*#__PURE__*/_jsx(\"img\",{src:pageData.pageData.img,alt:\"hotel\",className:\"w-100\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body pt-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fw-700 font-xss mt-0 lh-28 mb-0 pe-3\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/mono\",className:\"text-dark text-grey-900\",children:pageData.pageData.title})}),/*#__PURE__*/_jsxs(\"h6\",{className:\"font-xsssss text-grey-500 fw-600 mt-0 mb-2\",children:[\" \",pageData.pageData.created_on]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-1 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"font-xss  lh-1 mt-2 text-grey-900 fw-300\",children:Math.round(sum/rates.length)})})}),/*#__PURE__*/_jsx(LinearProgress,{color:\"info\",determinate:true,size:\"sm\",value:pageData.pageData.rating,variant:\"plain\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-xsss fw-700 mt-0 pe-5 ls-2 lh-32 d-inline-block text-success float-left\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-xssss\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/mono\",className:\"position-absolute bottom-15 mb-5 ms-2 right-15\",children:/*#__PURE__*/_jsx(\"i\",{className:\"btn-round-sm bg-primary-gradiant text-white font-sm feather-chevron-right\"})})]})]})});};export default RecommendEach;","map":{"version":3,"names":["React","useContext","useState","ApiContext","useHistory","LinearProgress","jsx","_jsx","jsxs","_jsxs","RecommendEach","pageData","isfollow","history","_useContext","newUserIntPage","getUserInterest","monoposts","toMonopage","createdIntData","FormData","append","id","push","_useState","_useState2","_slicedToArray","rate","setRate","postsforpage","filter","each","reviewTo","Number","rates","map","post","rating","sum","i","length","Math","round","console","log","className","children","onClick","src","img","alt","href","title","created_on","color","determinate","size","value","variant"],"sources":["/Users/hirakuono/Desktop/開発/tatamiproject_0.8_local/tatami-react/src/pages/RecommendEach.jsx"],"sourcesContent":["import React,{useContext, useState} from 'react';\n\nimport { ApiContext } from '../context/ApiContext'\nimport { useHistory } from \"react-router-dom\";\nimport LinearProgress from '@mui/joy/LinearProgress'\n\nconst RecommendEach = (pageData, isfollow) => {\n    const history = useHistory()\n    const { newUserIntPage,getUserInterest, monoposts } =  useContext(\n        ApiContext\n    );\n    \n\n    const toMonopage = () => {\n        const createdIntData = new FormData()\n        createdIntData.append(\"intPageId\",pageData.pageData.id)\n        newUserIntPage(createdIntData)\n        getUserInterest()\n        getUserInterest()\n        getUserInterest()\n        getUserInterest()\n        history.push(\"/mono\")\n    }\n\n    const [rate, setRate] = useState([]);\n    // const [rates, setRates] = useState([]);\n    \n    const postsforpage = monoposts.filter((each)=> {\n        return each.reviewTo === Number(pageData.pageData.id)\n    })\n\n    const rates = postsforpage.map((post) => {\n        return post.rating })\n\n    let sum = 0\n    for (let i = 0; i<rates.length; i++){\n        sum += rates[i]\n    }\n   \n    // rates&& setRate(Math.round(sum/rates.length))\n    (Math.round(sum/rates.length))\n    console.log(rates)\n\n\n\n    \n\n    return (\n        <div className=\"col-md-5 col-sm-6 pe-2 ps-2\">\n        <div className=\"card w-100 p-0 hover-card shadow-xss border-0 rounded-3 overflow-hidden me-2 ms-2 mb-3\" onClick={toMonopage}>\n            {/* {value.feature ? <span className=\"font-xsssss fw-700 ps-3 pe-3 lh-32 text-uppercase rounded-3 ls-2 bg-primary-gradiant d-inline-block text-white position-absolute mt-3 ms-3 z-index-1\">Featured</span> : ''} */}\n            <div className=\"card-image w-100 mb-3\">\n                <a className=\"position-relative d-block\"><img src={pageData.pageData.img} alt=\"hotel\" className=\"w-100\" /></a>\n            </div>\n            <div className=\"card-body pt-0\">\n                {/* <i className=\"feather-bookmark font-md text-grey-500 position-absolute right-0 me-3\"></i> */}\n                <h4 className=\"fw-700 font-xss mt-0 lh-28 mb-0 pe-3\"><a href=\"/mono\" className=\"text-dark text-grey-900\">{pageData.pageData.title}</a></h4>\n                <h6 className=\"font-xsssss text-grey-500 fw-600 mt-0 mb-2\"> {pageData.pageData.created_on}</h6>\n\n                <div className=\"card-body p-1 mb-3\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <h2 className=\"font-xss  lh-1 mt-2 text-grey-900 fw-300\">{Math.round(sum/rates.length)}</h2>\n                    </div>\n                </div>\n                <LinearProgress\n                    color=\"info\"\n                    determinate\n                    size=\"sm\"\n                    value= {pageData.pageData.rating}\n                    variant=\"plain\"\n                    />\n                </div>\n                <div className=\"clearfix\"></div>\n                <span className=\"font-xsss fw-700 mt-0 pe-5 ls-2 lh-32 d-inline-block text-success float-left\"><span className=\"font-xssss\"></span>\n                 {/* {pageData.summary.slice(0,10)}.. */}\n                 </span>\n                <a href=\"/mono\" className=\"position-absolute bottom-15 mb-5 ms-2 right-15\"><i className=\"btn-round-sm bg-primary-gradiant text-white font-sm feather-chevron-right\"></i></a>\n            </div>\n        </div>\n        </div>\n\n    )\n} \n\nexport default RecommendEach;"],"mappings":"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"},"metadata":{},"sourceType":"module"}