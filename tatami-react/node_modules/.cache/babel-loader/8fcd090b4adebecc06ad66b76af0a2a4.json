{"ast":null,"code":"var _jsxFileName = \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/src/pages/RecommendEach.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { ApiContext } from '../context/ApiContext';\nimport { useHistory } from \"react-router-dom\";\nimport LinearProgress from '@mui/joy/LinearProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecommendEach = (pageData, isfollow) => {\n  _s();\n  const history = useHistory();\n  const {\n    newUserIntPage,\n    getUserInterest,\n    monoposts\n  } = useContext(ApiContext);\n  const toMonopage = () => {\n    const createdIntData = new FormData();\n    createdIntData.append(\"intPageId\", pageData.id);\n    newUserIntPage(createdIntData);\n    getUserInterest();\n    getUserInterest();\n    getUserInterest();\n    getUserInterest();\n    history.push(\"/mono\");\n  };\n  const [rate, setRate] = useState([]);\n  // const [rates, setRates] = useState([]);\n\n  const postsforpage = monoposts.filter(each => {\n    return each.reviewTo === Number(pageData.pageData.id);\n  });\n\n  // postsforpage[0] &&\n  // setRates(\n  //     postsformap((post) => {\n  //         return post.rating\n  //     })\n  // )\n\n  console.log(pageData.pageData);\n  const rates = postsformap(post => {\n    return post.rating;\n  });\n  let sum = 0;\n  for (let i = 0; i < rates.length; i++) {\n    sum += rates[i];\n  }\n  console.log(rates);\n  rates && setRate(Math.round(sum / rates.length));\n  postsforpage[0] && setRate(rates = postsformap(post => {\n    return post.rating;\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-5 col-sm-6 pe-2 ps-2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-100 p-0 hover-card shadow-xss border-0 rounded-3 overflow-hidden me-2 ms-2 mb-3\",\n      onClick: toMonopage,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-image w-100 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"position-relative d-block\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: pageData.pageData.img,\n            alt: \"hotel\",\n            className: \"w-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body pt-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"fw-700 font-xss mt-0 lh-28 mb-0 pe-3\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/mono\",\n            className: \"text-dark text-grey-900\",\n            children: pageData.pageData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 70\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"font-xsssss text-grey-500 fw-600 mt-0 mb-2\",\n          children: [\" \", pageData.pageData.created_on]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-1 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-xss  lh-1 mt-2 text-grey-900 fw-300\",\n                children: pageData.pageData.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n            color: \"info\",\n            determinate: true,\n            size: \"sm\",\n            value: pageData.pageData.rating,\n            variant: \"plain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clearfix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-xsss fw-700 mt-0 pe-5 ls-2 lh-32 d-inline-block text-success float-left\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-xssss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 112\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/mono\",\n          className: \"position-absolute bottom-15 mb-5 ms-2 right-15\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"btn-round-sm bg-primary-gradiant text-white font-sm feather-chevron-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 92\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(RecommendEach, \"qXYuGKibpcUg0nhk7ikIscOGQD4=\", false, function () {\n  return [useHistory];\n});\n_c = RecommendEach;\nexport default RecommendEach;\nvar _c;\n$RefreshReg$(_c, \"RecommendEach\");","map":{"version":3,"names":["React","useContext","useState","ApiContext","useHistory","LinearProgress","jsxDEV","_jsxDEV","RecommendEach","pageData","isfollow","_s","history","newUserIntPage","getUserInterest","monoposts","toMonopage","createdIntData","FormData","append","id","push","rate","setRate","postsforpage","filter","each","reviewTo","Number","console","log","rates","postsformap","post","rating","sum","i","length","Math","round","className","children","onClick","src","img","alt","fileName","_jsxFileName","lineNumber","columnNumber","href","title","created_on","color","determinate","size","value","variant","_c","$RefreshReg$"],"sources":["/Users/hirakuono/Desktop/開発/tatamiproject_0.8_local/tatami-react/src/pages/RecommendEach.jsx"],"sourcesContent":["import React,{useContext, useState} from 'react';\n\nimport { ApiContext } from '../context/ApiContext'\nimport { useHistory } from \"react-router-dom\";\nimport LinearProgress from '@mui/joy/LinearProgress'\n\nconst RecommendEach = (pageData, isfollow) => {\n    const history = useHistory()\n    const { newUserIntPage,getUserInterest, monoposts } =  useContext(\n        ApiContext\n    );\n    \n\n    const toMonopage = () => {\n        const createdIntData = new FormData()\n        createdIntData.append(\"intPageId\",pageData.id)\n        newUserIntPage(createdIntData)\n        getUserInterest()\n        getUserInterest()\n        getUserInterest()\n        getUserInterest()\n        history.push(\"/mono\")\n    }\n\n    const [rate, setRate] = useState([]);\n    // const [rates, setRates] = useState([]);\n    \n    const postsforpage = monoposts.filter((each)=> {\n        return each.reviewTo === Number(pageData.pageData.id)\n    })\n\n    // postsforpage[0] &&\n    // setRates(\n    //     postsformap((post) => {\n    //         return post.rating\n    //     })\n    // )\n\n    console.log(pageData.pageData)\n\n    \n\n    const rates = postsformap((post) => {\n        return post.rating })\n\n    let sum = 0\n    for (let i = 0; i<rates.length; i++){\n        sum += rates[i]\n    }\n    console.log(rates)\n    rates&& setRate(Math.round(sum/rates.length))\n\n\n\n    postsforpage[0] &&\n    setRate(\n        rates = postsformap((post) => {\n            return post.rating\n        })\n    )\n\n\n\n    \n\n    return (\n        <div className=\"col-md-5 col-sm-6 pe-2 ps-2\">\n        <div className=\"card w-100 p-0 hover-card shadow-xss border-0 rounded-3 overflow-hidden me-2 ms-2 mb-3\" onClick={toMonopage}>\n            {/* {value.feature ? <span className=\"font-xsssss fw-700 ps-3 pe-3 lh-32 text-uppercase rounded-3 ls-2 bg-primary-gradiant d-inline-block text-white position-absolute mt-3 ms-3 z-index-1\">Featured</span> : ''} */}\n            <div className=\"card-image w-100 mb-3\">\n                <a className=\"position-relative d-block\"><img src={pageData.pageData.img} alt=\"hotel\" className=\"w-100\" /></a>\n            </div>\n            <div className=\"card-body pt-0\">\n                {/* <i className=\"feather-bookmark font-md text-grey-500 position-absolute right-0 me-3\"></i> */}\n                <h4 className=\"fw-700 font-xss mt-0 lh-28 mb-0 pe-3\"><a href=\"/mono\" className=\"text-dark text-grey-900\">{pageData.pageData.title}</a></h4>\n                <h6 className=\"font-xsssss text-grey-500 fw-600 mt-0 mb-2\"> {pageData.pageData.created_on}</h6>\n\n                <div className=\"card-body p-1 mb-3\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <h2 className=\"font-xss  lh-1 mt-2 text-grey-900 fw-300\">{pageData.pageData.rating}</h2>\n                    </div>\n                </div>\n                <LinearProgress\n                    color=\"info\"\n                    determinate\n                    size=\"sm\"\n                    value= {pageData.pageData.rating}\n                    variant=\"plain\"\n                    />\n                </div>\n                <div className=\"clearfix\"></div>\n                <span className=\"font-xsss fw-700 mt-0 pe-5 ls-2 lh-32 d-inline-block text-success float-left\"><span className=\"font-xssss\"></span>\n                 {/* {pageData.summary.slice(0,10)}.. */}\n                 </span>\n                <a href=\"/mono\" className=\"position-absolute bottom-15 mb-5 ms-2 right-15\"><i className=\"btn-round-sm bg-primary-gradiant text-white font-sm feather-chevron-right\"></i></a>\n            </div>\n        </div>\n        </div>\n\n    )\n} \n\nexport default RecommendEach;"],"mappings":"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"},"metadata":{},"sourceType":"module"}