{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _regeneratorRuntime from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createClass from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _objectSpread from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nvar _excluded = [\"loading\", \"children\"];\nimport * as React from 'react';\nimport { createSlice, configureStore, bindActionCreators } from '@reduxjs/toolkit';\nimport { v4 } from 'uuid';\nimport { persistReducer, FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, persistStore } from 'redux-persist';\nimport '@stripe/stripe-js';\nimport { createSelectorHook, createDispatchHook, Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nvar isClient = typeof window === 'object';\nvar formatCurrencyString = function formatCurrencyString(_ref) {\n  var value = _ref.value,\n    currency = _ref.currency,\n    _ref$language = _ref.language,\n    language = _ref$language === void 0 ? isClient ? navigator.language : 'en-US' : _ref$language;\n  var numberFormat = new Intl.NumberFormat(language, {\n    style: 'currency',\n    currency: currency,\n    currencyDisplay: 'symbol'\n  });\n  var parts = numberFormat.formatToParts(value);\n  var zeroDecimalCurrency = true;\n  var _iterator = _createForOfIteratorHelper(parts),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var part = _step.value;\n      if (part.type === 'decimal') {\n        zeroDecimalCurrency = false;\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  value = zeroDecimalCurrency ? value : parseFloat((value / 100).toFixed(2));\n  return numberFormat.format(value);\n};\nfunction updateFormattedTotalPrice(state) {\n  state.formattedTotalPrice = formatCurrencyString({\n    value: state.totalPrice,\n    currency: state.currency,\n    language: state.language\n  });\n}\nfunction updateFormattedValue(state, id) {\n  state.cartDetails[id].formattedValue = formatCurrencyString({\n    value: state.cartDetails[id].value,\n    currency: state.currency,\n    language: state.language\n  });\n}\nfunction updateFormattedPrice(state, id) {\n  state.cartDetails[id].formattedPrice = formatCurrencyString({\n    value: state.cartDetails[id].price,\n    currency: state.currency,\n    language: state.language\n  });\n}\nfunction Entry(_ref2) {\n  var id = _ref2.id,\n    product = _ref2.product,\n    quantity = _ref2.quantity,\n    price_metadata = _ref2.price_metadata,\n    product_metadata = _ref2.product_metadata;\n  return _objectSpread(_objectSpread({}, product), {}, {\n    id: id,\n    quantity: quantity,\n    value: product.price * quantity,\n    price_data: _objectSpread(_objectSpread({}, product.price_data), price_metadata),\n    product_data: _objectSpread(_objectSpread({}, product.product_data), product_metadata)\n  });\n}\nfunction createEntry(_ref3) {\n  var state = _ref3.state,\n    id = _ref3.id,\n    product = _ref3.product,\n    count = _ref3.count,\n    price_metadata = _ref3.price_metadata,\n    product_metadata = _ref3.product_metadata;\n  var entry = Entry({\n    id: id,\n    product: product,\n    quantity: count,\n    price_metadata: price_metadata,\n    product_metadata: product_metadata\n  });\n  state.cartDetails[id] = entry;\n  updateFormattedValue(state, id);\n  updateFormattedPrice(state, id);\n  state.totalPrice += entry.value;\n  state.cartCount += count;\n  updateFormattedTotalPrice(state);\n}\nfunction updateEntry(_ref4) {\n  var state = _ref4.state,\n    id = _ref4.id,\n    count = _ref4.count,\n    price_metadata = _ref4.price_metadata,\n    product_metadata = _ref4.product_metadata;\n  var entry = state.cartDetails[id];\n  if (entry.quantity + count <= 0) return removeEntry({\n    state: state,\n    id: id\n  });\n  state.cartDetails[id] = Entry({\n    id: id,\n    state: state,\n    product: entry,\n    quantity: entry.quantity + count,\n    price_metadata: price_metadata,\n    product_metadata: product_metadata\n  });\n  updateFormattedValue(state, id);\n  state.totalPrice += entry.price * count;\n  state.cartCount += count;\n  updateFormattedTotalPrice(state);\n}\nfunction removeEntry(_ref5) {\n  var state = _ref5.state,\n    id = _ref5.id;\n  var cartDetails = state.cartDetails;\n  state.totalPrice -= cartDetails[id].value;\n  state.cartCount -= cartDetails[id].quantity;\n  delete cartDetails[id];\n  updateFormattedTotalPrice(state);\n}\nfunction updateQuantity(_ref6) {\n  var state = _ref6.state,\n    id = _ref6.id,\n    quantity = _ref6.quantity;\n  var entry = state.cartDetails[id];\n  updateEntry({\n    state: state,\n    id: id,\n    count: quantity - entry.quantity\n  });\n}\nvar initialState = {\n  cartMode: 'checkout-session',\n  mode: 'payment',\n  currency: 'USD',\n  language: isClient ? navigator.language : 'en-US',\n  lastClicked: '',\n  shouldDisplayCart: false,\n  cartCount: 0,\n  totalPrice: 0,\n  formattedTotalPrice: '',\n  cartDetails: {},\n  stripe: '',\n  shouldPersist: true\n};\nvar slice = createSlice({\n  name: 'cart',\n  initialState: initialState,\n  reducers: {\n    addItem: {\n      reducer: function reducer(state, _ref7) {\n        var _ref7$payload = _ref7.payload,\n          product = _ref7$payload.product,\n          options = _ref7$payload.options;\n        var count = options.count,\n          price_metadata = options.price_metadata,\n          product_metadata = options.product_metadata;\n        var id = product.id || product.price_id || product.sku_id || product.sku || v4();\n        if (id in state.cartDetails) {\n          updateEntry({\n            state: state,\n            id: id,\n            count: count,\n            price_metadata: price_metadata,\n            product_metadata: product_metadata\n          });\n        } else {\n          createEntry({\n            state: state,\n            id: id,\n            product: product,\n            count: count,\n            price_metadata: price_metadata,\n            product_metadata: product_metadata\n          });\n        }\n      },\n      prepare: function prepare(product) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          count: 1\n        };\n        if (!options.price_metadata) options.price_metadata = {};\n        if (!options.product_metadata) options.product_metadata = {};\n        if (!options.count) options.count = 1;\n        return {\n          payload: {\n            product: product,\n            options: options\n          }\n        };\n      }\n    },\n    incrementItem: {\n      reducer: function reducer(state, _ref8) {\n        var _ref8$payload = _ref8.payload,\n          id = _ref8$payload.id,\n          options = _ref8$payload.options;\n        updateEntry({\n          state: state,\n          id: id,\n          count: options.count\n        });\n      },\n      prepare: function prepare(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          count: 1\n        };\n        return {\n          payload: {\n            id: id,\n            options: options\n          }\n        };\n      }\n    },\n    decrementItem: {\n      reducer: function reducer(state, _ref9) {\n        var _ref9$payload = _ref9.payload,\n          id = _ref9$payload.id,\n          options = _ref9$payload.options;\n        if (state.cartDetails[id].quantity - options.count <= 0) return removeEntry({\n          state: state,\n          id: id\n        });\n        updateEntry({\n          state: state,\n          id: id,\n          count: -options.count\n        });\n      },\n      prepare: function prepare(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          count: 1\n        };\n        return {\n          payload: {\n            id: id,\n            options: options\n          }\n        };\n      }\n    },\n    clearCart: {\n      reducer: function reducer(state) {\n        state.cartCount = 0;\n        state.totalPrice = 0;\n        state.cartDetails = {};\n        updateFormattedTotalPrice(state);\n      }\n    },\n    setItemQuantity: {\n      reducer: function reducer(state, _ref10) {\n        var _ref10$payload = _ref10.payload,\n          id = _ref10$payload.id,\n          quantity = _ref10$payload.quantity;\n        if (quantity > 0 && id in state.cartDetails) return updateQuantity(_objectSpread(_objectSpread({}, state), {}, {\n          state: state,\n          id: id,\n          quantity: quantity\n        }));else if (quantity === 0) return removeEntry({\n          state: state,\n          id: id\n        });\n      },\n      prepare: function prepare(id, quantity) {\n        return {\n          payload: {\n            id: id,\n            quantity: quantity\n          }\n        };\n      }\n    },\n    removeItem: {\n      reducer: function reducer(state, _ref11) {\n        var id = _ref11.payload.id;\n        removeEntry({\n          state: state,\n          id: id\n        });\n      },\n      prepare: function prepare(id) {\n        return {\n          payload: {\n            id: id\n          }\n        };\n      }\n    },\n    loadCart: {\n      reducer: function reducer(state, _ref12) {\n        var _ref12$payload = _ref12.payload,\n          cartDetails = _ref12$payload.cartDetails,\n          shouldMerge = _ref12$payload.shouldMerge;\n        if (!shouldMerge) {\n          state.cartCount = 0;\n          state.totalPrice = 0;\n          state.cartDetails = {};\n        }\n        for (var id in cartDetails) {\n          var entry = cartDetails[id];\n          createEntry({\n            state: state,\n            id: entry.id,\n            product: entry,\n            count: entry.quantity\n          });\n        }\n      },\n      prepare: function prepare(cartDetails) {\n        var shouldMerge = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return {\n          payload: {\n            cartDetails: cartDetails,\n            shouldMerge: shouldMerge\n          }\n        };\n      }\n    },\n    handleCartHover: function handleCartHover(state) {\n      state.shouldDisplayCart = true;\n    },\n    handleCartClick: function handleCartClick(state) {\n      state.shouldDisplayCart = !state.shouldDisplayCart;\n    },\n    handleCloseCart: function handleCloseCart(state) {\n      state.shouldDisplayCart = false;\n    },\n    storeLastClicked: function storeLastClicked(state, _ref13) {\n      var payload = _ref13.payload;\n      state.lastClicked = payload;\n    },\n    changeStripeKey: function changeStripeKey(state, _ref14) {\n      var payload = _ref14.payload;\n      state.stripe = payload;\n    },\n    changeLanguage: function changeLanguage(state, _ref15) {\n      var payload = _ref15.payload;\n      state.language = payload;\n    },\n    changeCurrency: function changeCurrency(state, _ref16) {\n      var payload = _ref16.payload;\n      state.currency = payload;\n    }\n  }\n});\nslice.actions.redirectToCheckout = function (sessionId) {\n  return {\n    type: 'cart/redirectToCheckout',\n    payload: {\n      sessionId: sessionId\n    }\n  };\n};\nslice.actions.checkoutSingleItem = function (itemsOrPriceId) {\n  var quantity = itemsOrPriceId.quantity || 1;\n  var cartItems = function () {\n    if (typeof itemsOrPriceId === 'string') {\n      return {\n        lineItems: [{\n          price: itemsOrPriceId,\n          quantity: quantity\n        }]\n      };\n    }\n    if (Object.prototype.hasOwnProperty.call(itemsOrPriceId, 'price')) {\n      return {\n        lineItems: [{\n          price: itemsOrPriceId.price,\n          quantity: quantity\n        }]\n      };\n    }\n    /**\r\n     * Backward compatibility (SKU)\r\n     */\n    if (Object.prototype.hasOwnProperty.call(itemsOrPriceId, 'sku')) {\n      return {\n        items: [{\n          sku: itemsOrPriceId.sku,\n          quantity: quantity\n        }]\n      };\n    }\n    return [];\n  }();\n  return {\n    type: 'cart/checkoutSingleItem',\n    payload: {\n      cartItems: cartItems\n    }\n  };\n};\nvar reducer = slice.reducer,\n  actions = slice.actions;\n\n/**\r\n * Returns the constructor name of any value.\r\n * @param {any} value\r\n * @returns string\r\n */\nfunction typeOf(value) {\n  if (value === undefined) return 'undefined';\n  if (value === null) return 'null';\n  return value.constructor.name;\n}\nvar PropertyValueError = /*#__PURE__*/function (_Error) {\n  _inherits(PropertyValueError, _Error);\n  var _super = _createSuper(PropertyValueError);\n  function PropertyValueError(_ref17) {\n    var _this;\n    var property = _ref17.property,\n      method = _ref17.method,\n      expected = _ref17.expected,\n      received = _ref17.received;\n    _classCallCheck(this, PropertyValueError);\n    var plural = Array.isArray(expected);\n    var expectedString = plural ? \"are \".concat(expected.map(function (v) {\n      return JSON.stringify(v);\n    }).join(', ')) : \"is \".concat(JSON.stringify(expected));\n    var methodString = typeof method === 'string' ? \" in \".concat(method, \"()\") : '';\n    _this = _super.call(this, \"Invalid value \".concat(JSON.stringify(received), \" was received for \").concat(property, \". Valid \").concat(plural ? 'values' : 'value', \" for \").concat(property).concat(methodString, \" \").concat(expectedString, \".\"));\n    _this.name = 'PropertyValueError';\n    return _this;\n  }\n  return _createClass(PropertyValueError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar PropertyTypeError = /*#__PURE__*/function (_TypeError) {\n  _inherits(PropertyTypeError, _TypeError);\n  var _super2 = _createSuper(PropertyTypeError);\n  function PropertyTypeError(_ref18) {\n    var _this2;\n    var property = _ref18.property,\n      expected = _ref18.expected,\n      received = _ref18.received;\n    _classCallCheck(this, PropertyTypeError);\n    var plural = Array.isArray(expected);\n    var expectedString = plural ? \"are \".concat(expected.map(function (v) {\n      return JSON.stringify(v);\n    }).join(', ')) : \"is \".concat(JSON.stringify(expected));\n    _this2 = _super2.call(this, \"Invalid value with type \".concat(JSON.stringify(received), \" was received for \").concat(property, \". Valid \").concat(plural ? 'types' : 'type', \" for \").concat(property, \" \").concat(expectedString, \".\"));\n    _this2.name = 'PropertyTypeError';\n    return _this2;\n  }\n  return _createClass(PropertyTypeError);\n}( /*#__PURE__*/_wrapNativeSuper(TypeError));\nvar PropertyRangeError = /*#__PURE__*/function (_RangeError) {\n  _inherits(PropertyRangeError, _RangeError);\n  var _super3 = _createSuper(PropertyRangeError);\n  function PropertyRangeError(_ref19) {\n    var _this3;\n    var property = _ref19.property,\n      between = _ref19.between,\n      below = _ref19.below,\n      above = _ref19.above,\n      received = _ref19.received;\n    _classCallCheck(this, PropertyRangeError);\n    var expectedString;\n    if (Array.isArray(between)) expectedString = \"between \".concat(between[0], \" and \").concat(between[1]);else if (['string', 'number'].includes(typeof below)) expectedString = \"below \".concat(below);else if (['string', 'number'].includes(typeof above)) expectedString = \"above \".concat(above);\n    _this3 = _super3.call(this, \"Invalid value \".concat(JSON.stringify(received), \" was received for \").concat(property, \". Valid range for \").concat(property, \" is \").concat(expectedString, \".\"));\n    _this3.name = 'PropertyRangeError';\n    return _this3;\n  }\n  return _createClass(PropertyRangeError);\n}( /*#__PURE__*/_wrapNativeSuper(RangeError));\nfunction _optionalChain(ops) {\n  var lastAccessLHS = undefined;\n  var value = ops[0];\n  var i = 1;\n  while (i < ops.length) {\n    var op = ops[i];\n    var fn = ops[i + 1];\n    i += 2;\n    if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n      return undefined;\n    }\n    if (op === 'access' || op === 'optionalAccess') {\n      lastAccessLHS = value;\n      value = fn(value);\n    } else if (op === 'call' || op === 'optionalCall') {\n      value = fn(function () {\n        var _value;\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return (_value = value).call.apply(_value, [lastAccessLHS].concat(args));\n      });\n      lastAccessLHS = undefined;\n    }\n  }\n  return value;\n}\nfunction getCheckoutData(cart) {\n  var lineItems = [];\n  for (var sku in cart.cartDetails) lineItems.push({\n    price: sku,\n    quantity: cart.cartDetails[sku].quantity\n  });\n  var options = {\n    mode: cart.mode,\n    lineItems: lineItems,\n    successUrl: cart.successUrl,\n    cancelUrl: cart.cancelUrl,\n    billingAddressCollection: cart.billingAddressCollection ? 'required' : 'auto',\n    submitType: 'auto'\n  };\n  if (_optionalChain([cart, 'access', function (_) {\n    return _.allowedCountries;\n  }, 'optionalAccess', function (_2) {\n    return _2.length;\n  }])) {\n    options.shippingAddressCollection = {\n      allowedCountries: cart.allowedCountries\n    };\n  }\n  return options;\n}\nvar handleStripe = function handleStripe(store) {\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(action) {\n        var stripePublicKey, cart, checkout, stripe, checkoutData, _stripe, options;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              stripePublicKey = store.getState().stripe;\n              cart = store.getState();\n              checkout = ['cart/redirectToCheckout', 'cart/checkoutSingleItem'];\n              if (!checkout.includes(action.type)) {\n                _context.next = 10;\n                break;\n              }\n              if (!(typeof stripePublicKey !== 'string')) {\n                _context.next = 8;\n                break;\n              }\n              throw new PropertyTypeError({\n                property: 'stripe',\n                expected: 'string',\n                received: typeOf(stripePublicKey)\n              });\n            case 8:\n              if (!(stripePublicKey.length === 0)) {\n                _context.next = 10;\n                break;\n              }\n              throw new PropertyRangeError({\n                property: 'stripe.length',\n                above: 0,\n                received: stripePublicKey.length\n              });\n            case 10:\n              if (!(action.type === 'cart/redirectToCheckout')) {\n                _context.next = 24;\n                break;\n              }\n              stripe = initializeStripe(stripePublicKey);\n              if (!(cart.cartMode === 'checkout-session')) {\n                _context.next = 16;\n                break;\n              }\n              return _context.abrupt(\"return\", stripe.redirectToCheckout({\n                sessionId: action.payload.sessionId\n              }));\n            case 16:\n              if (!(cart.cartMode === 'client-only')) {\n                _context.next = 21;\n                break;\n              }\n              checkoutData = getCheckoutData(cart);\n              return _context.abrupt(\"return\", stripe.redirectToCheckout(checkoutData));\n            case 21:\n              throw new PropertyValueError({\n                property: 'cartMode',\n                method: 'redirectToCheckout',\n                expected: ['client-only', 'checkout-session'],\n                received: cart.cartMode\n              });\n            case 22:\n              _context.next = 32;\n              break;\n            case 24:\n              if (!(action.type === 'cart/checkoutSingleItem')) {\n                _context.next = 32;\n                break;\n              }\n              _stripe = initializeStripe(stripePublicKey);\n              if (!(cart.cartMode === 'client-only')) {\n                _context.next = 31;\n                break;\n              }\n              options = _objectSpread({\n                mode: cart.mode,\n                successUrl: cart.successUrl,\n                cancelUrl: cart.cancelUrl\n              }, action.payload.cartItems);\n              return _context.abrupt(\"return\", _stripe.redirectToCheckout(options));\n            case 31:\n              throw new PropertyValueError({\n                property: 'cartMode',\n                method: 'checkoutSingleItem',\n                expected: 'client-only',\n                received: cart.cartMode\n              });\n            case 32:\n              return _context.abrupt(\"return\", next(action));\n            case 33:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref20.apply(this, arguments);\n      };\n    }();\n  };\n};\nfunction initializeStripe(publicKey) {\n  try {\n    // eslint-disable-next-line no-undef\n    var stripe = Stripe(publicKey);\n    stripe.registerAppInfo({\n      name: 'use-shopping-cart',\n      version: \"3.1.8\",\n      url: 'https://useshoppingcart.com',\n      // eslint-disable-next-line camelcase\n      partner_id: 'pp_partner_H8MLmI3e9Oc3IK'\n    });\n    return stripe;\n  } catch (error) {\n    console.error('Unable to initialize Stripe.');\n    throw error;\n  }\n}\nvar handleWarnings = function handleWarnings(store) {\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(action) {\n        var count, quantity, id;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              count = ['cart/addItem', 'cart/incrementItem', 'cart/decrementItem'];\n              if (!(count.includes(action.type) && typeof action.payload.options.count !== 'number')) {\n                _context2.next = 4;\n                break;\n              }\n              console.warn(\"Invalid count used with action \".concat(action.type, \": count must be a number. The current type is \").concat(typeOf(action.payload.options.count), \".\"), action);\n              return _context2.abrupt(\"return\");\n            case 4:\n              quantity = ['cart/setItemQuantity'];\n              if (!quantity.includes(action.type)) {\n                _context2.next = 14;\n                break;\n              }\n              if (!(typeof action.payload.quantity !== 'number')) {\n                _context2.next = 11;\n                break;\n              }\n              console.warn(\"Invalid quantity used with action \".concat(action.type, \": quantity must be a number. The current type is \").concat(typeOf(action.payload.quantity), \".\"), action);\n              return _context2.abrupt(\"return\");\n            case 11:\n              if (!(action.payload.quantity < 0)) {\n                _context2.next = 14;\n                break;\n              }\n              console.warn(\"Invalid quantity used with action \".concat(action.type, \": quantity must be greater than zero. The current value is \").concat(JSON.stringify(action.payload.quantity), \".\"), action);\n              return _context2.abrupt(\"return\");\n            case 14:\n              id = ['cart/incrementItem', 'cart/decrementItem', 'cart/removeItem'];\n              if (!(id.includes(action.type) && !(action.payload.id in store.getState().cartDetails))) {\n                _context2.next = 18;\n                break;\n              }\n              console.warn(\"Invalid product ID used with action \".concat(action.type, \": the ID must already be in the cart. The current value is \").concat(JSON.stringify(action.payload.id), \".\"), action);\n              return _context2.abrupt(\"return\");\n            case 18:\n              return _context2.abrupt(\"return\", next(action));\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x2) {\n        return _ref21.apply(this, arguments);\n      };\n    }();\n  };\n};\nfunction _nullishCoalesce(lhs, rhsFn) {\n  if (lhs != null) {\n    return lhs;\n  } else {\n    return rhsFn();\n  }\n}\nfunction filterCart(_x3, _x4) {\n  return _filterCart.apply(this, arguments);\n}\nfunction _filterCart() {\n  _filterCart = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(cartDetails, filter) {\n    var filteredCart, sku, entry;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          filteredCart = {};\n          _context6.t0 = _regeneratorRuntime().keys(cartDetails);\n        case 2:\n          if ((_context6.t1 = _context6.t0()).done) {\n            _context6.next = 11;\n            break;\n          }\n          sku = _context6.t1.value;\n          entry = cartDetails[sku];\n          _context6.next = 7;\n          return filter(entry);\n        case 7:\n          if (!_context6.sent) {\n            _context6.next = 9;\n            break;\n          }\n          filteredCart[sku] = entry;\n        case 9:\n          _context6.next = 2;\n          break;\n        case 11:\n          return _context6.abrupt(\"return\", filteredCart);\n        case 12:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _filterCart.apply(this, arguments);\n}\nfunction noop() {}\nfunction createNoopStorage() {\n  return {\n    getItem: noop,\n    setItem: noop,\n    removeItem: noop\n  };\n}\nfunction createLocalStorage() {\n  return {\n    getItem: function getItem(key) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", window.localStorage.getItem(key));\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    setItem: function setItem(key, value) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", window.localStorage.setItem(key, value));\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    },\n    removeItem: function removeItem(key) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              return _context5.abrupt(\"return\", window.localStorage.removeItem(key));\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      }))();\n    }\n  };\n}\nfunction createShoppingCartStore(options) {\n  options.shouldPersist = _nullishCoalesce(options.shouldPersist, function () {\n    return true;\n  });\n  if (!isClient) {\n    return configureStore({\n      reducer: reducer,\n      preloadedState: _objectSpread(_objectSpread({}, initialState), options)\n    });\n  }\n  var storage;\n  if (isClient) storage = options.storage || createLocalStorage();else storage = createNoopStorage();\n  delete options.storage;\n  var persistConfig = {\n    key: _nullishCoalesce(options.persistKey, function () {\n      return 'root';\n    }),\n    version: 1,\n    storage: storage,\n    whitelist: ['cartCount', 'totalPrice', 'formattedTotalPrice', 'cartDetails']\n  };\n  var persistedReducer = persistReducer(persistConfig, reducer);\n  var newInitialState = _objectSpread(_objectSpread({}, initialState), options);\n  updateFormattedTotalPrice(newInitialState);\n  return configureStore({\n    reducer: options.shouldPersist ? persistedReducer : reducer,\n    preloadedState: newInitialState,\n    middleware: function middleware(getDefaultMiddleware) {\n      return getDefaultMiddleware({\n        serializableCheck: {\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n          ignoredActionPaths: ['persist']\n        }\n      }).concat(handleStripe, handleWarnings);\n    }\n  });\n}\nvar _jsxFileName = \"/Users/nickdejesus/Code/hooks/use-shopping-cart/use-shopping-cart/react/index.js\";\nvar CartContext = React.createContext(initialState);\nvar useSelector = createSelectorHook(CartContext);\nvar useDispatch = createDispatchHook(CartContext);\nfunction CartProvider(_ref22) {\n  var _ref22$loading = _ref22.loading,\n    loading = _ref22$loading === void 0 ? null : _ref22$loading,\n    _children = _ref22.children,\n    props = _objectWithoutProperties(_ref22, _excluded);\n  var store = React.useMemo(function () {\n    return createShoppingCartStore(props);\n  }, [props]);\n  if (isClient && props.shouldPersist) {\n    var persistor = persistStore(store);\n    return React.createElement(Provider, {\n      context: CartContext,\n      store: store,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      }\n    }, React.createElement(PersistGate, {\n      persistor: persistor,\n      children: function children(bootstrapped) {\n        if (!bootstrapped) return loading;\n        return _children;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      }\n    }));\n  } else if (isClient && !props.shouldPersist) {\n    return React.createElement(Provider, {\n      context: CartContext,\n      store: store,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      }\n    }, _children);\n  }\n}\nfunction useShoppingCart() {\n  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n    return _objectSpread({}, state);\n  };\n  var equalityFn = arguments.length > 1 ? arguments[1] : undefined;\n  var dispatch = useDispatch();\n  var cartState = useSelector(selector, equalityFn);\n  var shoppingCart = React.useMemo(function () {\n    var cartActions = bindActionCreators(actions, dispatch);\n    return _objectSpread(_objectSpread({}, cartState), cartActions);\n  }, [cartState, dispatch]);\n  React.useDebugValue(shoppingCart);\n  return shoppingCart;\n}\nfunction DebugCart(props) {\n  var _this4 = this;\n  var cart = useShoppingCart(function (state) {\n    return state;\n  });\n  var cartPropertyRows = Object.entries(cart).filter(function (_ref23) {\n    var _ref24 = _slicedToArray(_ref23, 2),\n      value = _ref24[1];\n    return typeof value !== 'function';\n  }).map(function (_ref25) {\n    var _ref26 = _slicedToArray(_ref25, 2),\n      key = _ref26[0],\n      value = _ref26[1];\n    return React.createElement('tr', {\n      key: key,\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      }\n    }, React.createElement('td', {\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      }\n    }, key), React.createElement('td', {\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      }\n    }, typeof value === 'object' ? React.createElement('button', {\n      onClick: function onClick() {\n        return console.log(value);\n      },\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      }\n    }, \"Log value\") : JSON.stringify(value)));\n  });\n  return React.createElement('div', _objectSpread(_objectSpread({\n    style: {\n      position: 'fixed',\n      top: 50,\n      right: 50,\n      backgroundColor: '#eee',\n      textAlign: 'left',\n      maxWidth: 300,\n      padding: 20,\n      borderSpacing: '25px 5px',\n      overflow: 'auto'\n    }\n  }, props), {}, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    }\n  }), React.createElement('table', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    }\n  }, React.createElement('thead', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    }\n  }, React.createElement('tr', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    }\n  }, React.createElement('th', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    }\n  }, \"Key\"), React.createElement('th', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    }\n  }, \"Value\"))), React.createElement('tbody', {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    }\n  }, cartPropertyRows)));\n}\nexport { CartContext, CartProvider, DebugCart, actions, filterCart, formatCurrencyString, useDispatch, useSelector, useShoppingCart };","map":{"version":3,"sources":["../utilities/SSR.js","../core/Entry.js","../core/slice.js","../core/middleware/helpers.js","../core/middleware/stripe.js","../core/middleware/warnings.js","../core/index.js","../react/index.js"],"names":[],"mappings":"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","sourcesContent":["export const isClient = typeof window === 'object'\r\n","import { isClient } from '../utilities/SSR'\r\n\r\nexport const formatCurrencyString = ({\r\n  value,\r\n  currency,\r\n  language = isClient ? navigator.language : 'en-US'\r\n}) => {\r\n  const numberFormat = new Intl.NumberFormat(language, {\r\n    style: 'currency',\r\n    currency,\r\n    currencyDisplay: 'symbol'\r\n  })\r\n  const parts = numberFormat.formatToParts(value)\r\n  let zeroDecimalCurrency = true\r\n\r\n  for (const part of parts) {\r\n    if (part.type === 'decimal') {\r\n      zeroDecimalCurrency = false\r\n      break\r\n    }\r\n  }\r\n\r\n  value = zeroDecimalCurrency ? value : parseFloat((value / 100).toFixed(2))\r\n  return numberFormat.format(value)\r\n}\r\n\r\nexport function updateFormattedTotalPrice(state) {\r\n  state.formattedTotalPrice = formatCurrencyString({\r\n    value: state.totalPrice,\r\n    currency: state.currency,\r\n    language: state.language\r\n  })\r\n}\r\n\r\nexport function updateFormattedValue(state, id) {\r\n  state.cartDetails[id].formattedValue = formatCurrencyString({\r\n    value: state.cartDetails[id].value,\r\n    currency: state.currency,\r\n    language: state.language\r\n  })\r\n}\r\n\r\nexport function updateFormattedPrice(state, id) {\r\n  state.cartDetails[id].formattedPrice = formatCurrencyString({\r\n    value: state.cartDetails[id].price,\r\n    currency: state.currency,\r\n    language: state.language\r\n  })\r\n}\r\n\r\nfunction Entry({ id, product, quantity, price_metadata, product_metadata }) {\r\n  return {\r\n    ...product,\r\n    id,\r\n    quantity,\r\n    value: product.price * quantity,\r\n    price_data: {\r\n      ...product.price_data,\r\n      ...price_metadata\r\n    },\r\n    product_data: {\r\n      ...product.product_data,\r\n      ...product_metadata\r\n    }\r\n  }\r\n}\r\n\r\nexport function createEntry({\r\n  state,\r\n  id,\r\n  product,\r\n  count,\r\n  price_metadata,\r\n  product_metadata\r\n}) {\r\n  const entry = Entry({\r\n    id,\r\n    product,\r\n    quantity: count,\r\n    price_metadata,\r\n    product_metadata\r\n  })\r\n\r\n  state.cartDetails[id] = entry\r\n  updateFormattedValue(state, id)\r\n  updateFormattedPrice(state, id)\r\n\r\n  state.totalPrice += entry.value\r\n  state.cartCount += count\r\n  updateFormattedTotalPrice(state)\r\n}\r\n\r\nexport function updateEntry({\r\n  state,\r\n  id,\r\n  count,\r\n  price_metadata,\r\n  product_metadata\r\n}) {\r\n  const entry = state.cartDetails[id]\r\n  if (entry.quantity + count <= 0) return removeEntry({ state, id })\r\n\r\n  state.cartDetails[id] = Entry({\r\n    id,\r\n    state,\r\n    product: entry,\r\n    quantity: entry.quantity + count,\r\n    price_metadata,\r\n    product_metadata\r\n  })\r\n  updateFormattedValue(state, id)\r\n\r\n  state.totalPrice += entry.price * count\r\n  state.cartCount += count\r\n  updateFormattedTotalPrice(state)\r\n}\r\n\r\nexport function removeEntry({ state, id }) {\r\n  const cartDetails = state.cartDetails\r\n  state.totalPrice -= cartDetails[id].value\r\n  state.cartCount -= cartDetails[id].quantity\r\n  delete cartDetails[id]\r\n  updateFormattedTotalPrice(state)\r\n}\r\n\r\nexport function updateQuantity({ state, id, quantity }) {\r\n  const entry = state.cartDetails[id]\r\n  updateEntry({\r\n    state,\r\n    id,\r\n    count: quantity - entry.quantity\r\n  })\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {\r\n  createEntry,\r\n  updateEntry,\r\n  removeEntry,\r\n  updateQuantity,\r\n  updateFormattedTotalPrice\r\n} from './Entry'\r\nimport { isClient } from '../utilities/SSR'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const initialState = {\r\n  cartMode: 'checkout-session',\r\n  mode: 'payment',\r\n  currency: 'USD',\r\n  language: isClient ? navigator.language : 'en-US',\r\n  lastClicked: '',\r\n  shouldDisplayCart: false,\r\n  cartCount: 0,\r\n  totalPrice: 0,\r\n  formattedTotalPrice: '',\r\n  cartDetails: {},\r\n  stripe: '',\r\n  shouldPersist: true\r\n}\r\n\r\nconst slice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addItem: {\r\n      reducer(state, { payload: { product, options } }) {\r\n        const { count, price_metadata, product_metadata } = options\r\n\r\n        const id =\r\n          product.id ||\r\n          product.price_id ||\r\n          product.sku_id ||\r\n          product.sku ||\r\n          uuidv4()\r\n\r\n        if (id in state.cartDetails) {\r\n          updateEntry({\r\n            state,\r\n            id,\r\n            count,\r\n            price_metadata,\r\n            product_metadata\r\n          })\r\n        } else {\r\n          createEntry({\r\n            state,\r\n            id,\r\n            product,\r\n            count,\r\n            price_metadata,\r\n            product_metadata\r\n          })\r\n        }\r\n      },\r\n      prepare(product, options = { count: 1 }) {\r\n        if (!options.price_metadata) options.price_metadata = {}\r\n        if (!options.product_metadata) options.product_metadata = {}\r\n        if (!options.count) options.count = 1\r\n        return { payload: { product, options } }\r\n      }\r\n    },\r\n    incrementItem: {\r\n      reducer(state, { payload: { id, options } }) {\r\n        updateEntry({\r\n          state,\r\n          id,\r\n          count: options.count\r\n        })\r\n      },\r\n      prepare(id, options = { count: 1 }) {\r\n        return { payload: { id, options } }\r\n      }\r\n    },\r\n    decrementItem: {\r\n      reducer(state, { payload: { id, options } }) {\r\n        if (state.cartDetails[id].quantity - options.count <= 0)\r\n          return removeEntry({ state, id })\r\n\r\n        updateEntry({\r\n          state,\r\n          id,\r\n          count: -options.count\r\n        })\r\n      },\r\n      prepare(id, options = { count: 1 }) {\r\n        return { payload: { id, options } }\r\n      }\r\n    },\r\n    clearCart: {\r\n      reducer(state) {\r\n        state.cartCount = 0\r\n        state.totalPrice = 0\r\n        state.cartDetails = {}\r\n        updateFormattedTotalPrice(state)\r\n      }\r\n    },\r\n    setItemQuantity: {\r\n      reducer(state, { payload: { id, quantity } }) {\r\n        if (quantity > 0 && id in state.cartDetails)\r\n          return updateQuantity({ ...state, state, id, quantity })\r\n        else if (quantity === 0) return removeEntry({ state, id })\r\n      },\r\n      prepare(id, quantity) {\r\n        return { payload: { id, quantity } }\r\n      }\r\n    },\r\n    removeItem: {\r\n      reducer(state, { payload: { id } }) {\r\n        removeEntry({ state, id })\r\n      },\r\n      prepare(id) {\r\n        return { payload: { id } }\r\n      }\r\n    },\r\n    loadCart: {\r\n      reducer(state, { payload: { cartDetails, shouldMerge } }) {\r\n        if (!shouldMerge) {\r\n          state.cartCount = 0\r\n          state.totalPrice = 0\r\n          state.cartDetails = {}\r\n        }\r\n\r\n        for (const id in cartDetails) {\r\n          const entry = cartDetails[id]\r\n          createEntry({\r\n            state,\r\n            id: entry.id,\r\n            product: entry,\r\n            count: entry.quantity\r\n          })\r\n        }\r\n      },\r\n      prepare(cartDetails, shouldMerge = true) {\r\n        return { payload: { cartDetails, shouldMerge } }\r\n      }\r\n    },\r\n    handleCartHover(state) {\r\n      state.shouldDisplayCart = true\r\n    },\r\n    handleCartClick(state) {\r\n      state.shouldDisplayCart = !state.shouldDisplayCart\r\n    },\r\n    handleCloseCart(state) {\r\n      state.shouldDisplayCart = false\r\n    },\r\n    storeLastClicked(state, { payload }) {\r\n      state.lastClicked = payload\r\n    },\r\n    changeStripeKey(state, { payload }) {\r\n      state.stripe = payload\r\n    },\r\n    changeLanguage(state, { payload }) {\r\n      state.language = payload\r\n    },\r\n    changeCurrency(state, { payload }) {\r\n      state.currency = payload\r\n    }\r\n  }\r\n})\r\n\r\nslice.actions.redirectToCheckout = (sessionId) => ({\r\n  type: 'cart/redirectToCheckout',\r\n  payload: { sessionId }\r\n})\r\nslice.actions.checkoutSingleItem = (itemsOrPriceId) => {\r\n  const quantity = itemsOrPriceId.quantity || 1\r\n\r\n  const cartItems = (() => {\r\n    if (typeof itemsOrPriceId === 'string') {\r\n      return {\r\n        lineItems: [\r\n          {\r\n            price: itemsOrPriceId,\r\n            quantity\r\n          }\r\n        ]\r\n      }\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(itemsOrPriceId, 'price')) {\r\n      return {\r\n        lineItems: [\r\n          {\r\n            price: itemsOrPriceId.price,\r\n            quantity\r\n          }\r\n        ]\r\n      }\r\n    }\r\n    /**\r\n     * Backward compatibility (SKU)\r\n     */\r\n    if (Object.prototype.hasOwnProperty.call(itemsOrPriceId, 'sku')) {\r\n      return {\r\n        items: [\r\n          {\r\n            sku: itemsOrPriceId.sku,\r\n            quantity\r\n          }\r\n        ]\r\n      }\r\n    }\r\n    return []\r\n  })()\r\n\r\n  return {\r\n    type: 'cart/checkoutSingleItem',\r\n    payload: {\r\n      cartItems\r\n    }\r\n  }\r\n}\r\n\r\nexport const { reducer, actions } = slice\r\n","/**\r\n * Returns the constructor name of any value.\r\n * @param {any} value\r\n * @returns string\r\n */\r\nexport function typeOf(value) {\r\n  if (value === undefined) return 'undefined'\r\n  if (value === null) return 'null'\r\n  return value.constructor.name\r\n}\r\n\r\nexport class PropertyValueError extends Error {\r\n  constructor({ property, method, expected, received }) {\r\n    const plural = Array.isArray(expected)\r\n    const expectedString = plural\r\n      ? `are ${expected.map((v) => JSON.stringify(v)).join(', ')}`\r\n      : `is ${JSON.stringify(expected)}`\r\n    const methodString = typeof method === 'string' ? ` in ${method}()` : ''\r\n    super(\r\n      `Invalid value ${JSON.stringify(\r\n        received\r\n      )} was received for ${property}. Valid ${\r\n        plural ? 'values' : 'value'\r\n      } for ${property}${methodString} ${expectedString}.`\r\n    )\r\n    this.name = 'PropertyValueError'\r\n  }\r\n}\r\n\r\nexport class PropertyTypeError extends TypeError {\r\n  constructor({ property, expected, received }) {\r\n    const plural = Array.isArray(expected)\r\n    const expectedString = plural\r\n      ? `are ${expected.map((v) => JSON.stringify(v)).join(', ')}`\r\n      : `is ${JSON.stringify(expected)}`\r\n    super(\r\n      `Invalid value with type ${JSON.stringify(\r\n        received\r\n      )} was received for ${property}. Valid ${\r\n        plural ? 'types' : 'type'\r\n      } for ${property} ${expectedString}.`\r\n    )\r\n    this.name = 'PropertyTypeError'\r\n  }\r\n}\r\n\r\nexport class PropertyRangeError extends RangeError {\r\n  constructor({ property, between, below, above, received }) {\r\n    let expectedString\r\n    if (Array.isArray(between))\r\n      expectedString = `between ${between[0]} and ${between[1]}`\r\n    else if (['string', 'number'].includes(typeof below))\r\n      expectedString = `below ${below}`\r\n    else if (['string', 'number'].includes(typeof above))\r\n      expectedString = `above ${above}`\r\n\r\n    super(\r\n      `Invalid value ${JSON.stringify(\r\n        received\r\n      )} was received for ${property}. Valid range for ${property} is ${expectedString}.`\r\n    )\r\n    this.name = 'PropertyRangeError'\r\n  }\r\n}\r\n","import '@stripe/stripe-js'\r\nimport {\r\n  typeOf,\r\n  PropertyTypeError,\r\n  PropertyValueError,\r\n  PropertyRangeError\r\n} from './helpers'\r\n\r\nexport function getCheckoutData(cart) {\r\n  const lineItems = []\r\n  for (const sku in cart.cartDetails)\r\n    lineItems.push({ price: sku, quantity: cart.cartDetails[sku].quantity })\r\n\r\n  const options = {\r\n    mode: cart.mode,\r\n    lineItems,\r\n    successUrl: cart.successUrl,\r\n    cancelUrl: cart.cancelUrl,\r\n    billingAddressCollection: cart.billingAddressCollection\r\n      ? 'required'\r\n      : 'auto',\r\n    submitType: 'auto'\r\n  }\r\n\r\n  if (cart.allowedCountries?.length) {\r\n    options.shippingAddressCollection = {\r\n      allowedCountries: cart.allowedCountries\r\n    }\r\n  }\r\n\r\n  return options\r\n}\r\n\r\nexport const handleStripe = (store) => (next) => async (action) => {\r\n  const stripePublicKey = store.getState().stripe\r\n  const cart = store.getState()\r\n\r\n  const checkout = ['cart/redirectToCheckout', 'cart/checkoutSingleItem']\r\n  if (checkout.includes(action.type)) {\r\n    if (typeof stripePublicKey !== 'string') {\r\n      throw new PropertyTypeError({\r\n        property: 'stripe',\r\n        expected: 'string',\r\n        received: typeOf(stripePublicKey)\r\n      })\r\n    } else if (stripePublicKey.length === 0) {\r\n      throw new PropertyRangeError({\r\n        property: 'stripe.length',\r\n        above: 0,\r\n        received: stripePublicKey.length\r\n      })\r\n    }\r\n  }\r\n\r\n  if (action.type === 'cart/redirectToCheckout') {\r\n    const stripe = initializeStripe(stripePublicKey)\r\n    if (cart.cartMode === 'checkout-session') {\r\n      return stripe.redirectToCheckout({\r\n        sessionId: action.payload.sessionId\r\n      })\r\n    } else if (cart.cartMode === 'client-only') {\r\n      const checkoutData = getCheckoutData(cart)\r\n      return stripe.redirectToCheckout(checkoutData)\r\n    } else {\r\n      throw new PropertyValueError({\r\n        property: 'cartMode',\r\n        method: 'redirectToCheckout',\r\n        expected: ['client-only', 'checkout-session'],\r\n        received: cart.cartMode\r\n      })\r\n    }\r\n  } else if (action.type === 'cart/checkoutSingleItem') {\r\n    const stripe = initializeStripe(stripePublicKey)\r\n\r\n    if (cart.cartMode === 'client-only') {\r\n      const options = {\r\n        mode: cart.mode,\r\n        successUrl: cart.successUrl,\r\n        cancelUrl: cart.cancelUrl,\r\n        ...action.payload.cartItems\r\n      }\r\n      return stripe.redirectToCheckout(options)\r\n    } else {\r\n      throw new PropertyValueError({\r\n        property: 'cartMode',\r\n        method: 'checkoutSingleItem',\r\n        expected: 'client-only',\r\n        received: cart.cartMode\r\n      })\r\n    }\r\n  }\r\n\r\n  return next(action)\r\n}\r\n\r\nfunction initializeStripe(publicKey) {\r\n  try {\r\n    // eslint-disable-next-line no-undef\r\n    const stripe = Stripe(publicKey)\r\n    stripe.registerAppInfo({\r\n      name: 'use-shopping-cart',\r\n      version: process.env.__buildVersion__,\r\n      url: 'https://useshoppingcart.com',\r\n      // eslint-disable-next-line camelcase\r\n      partner_id: 'pp_partner_H8MLmI3e9Oc3IK'\r\n    })\r\n    return stripe\r\n  } catch (error) {\r\n    console.error('Unable to initialize Stripe.')\r\n    throw error\r\n  }\r\n}\r\n","import { typeOf } from './helpers'\r\n\r\nexport const handleWarnings = (store) => (next) => async (action) => {\r\n  const count = ['cart/addItem', 'cart/incrementItem', 'cart/decrementItem']\r\n  if (\r\n    count.includes(action.type) &&\r\n    typeof action.payload.options.count !== 'number'\r\n  ) {\r\n    console.warn(\r\n      `Invalid count used with action ${\r\n        action.type\r\n      }: count must be a number. The current type is ${typeOf(\r\n        action.payload.options.count\r\n      )}.`,\r\n      action\r\n    )\r\n    return\r\n  }\r\n\r\n  const quantity = ['cart/setItemQuantity']\r\n  if (quantity.includes(action.type)) {\r\n    if (typeof action.payload.quantity !== 'number') {\r\n      console.warn(\r\n        `Invalid quantity used with action ${\r\n          action.type\r\n        }: quantity must be a number. The current type is ${typeOf(\r\n          action.payload.quantity\r\n        )}.`,\r\n        action\r\n      )\r\n      return\r\n    } else if (action.payload.quantity < 0) {\r\n      console.warn(\r\n        `Invalid quantity used with action ${\r\n          action.type\r\n        }: quantity must be greater than zero. The current value is ${JSON.stringify(\r\n          action.payload.quantity\r\n        )}.`,\r\n        action\r\n      )\r\n      return\r\n    }\r\n  }\r\n\r\n  const id = ['cart/incrementItem', 'cart/decrementItem', 'cart/removeItem']\r\n  if (\r\n    id.includes(action.type) &&\r\n    !(action.payload.id in store.getState().cartDetails)\r\n  ) {\r\n    console.warn(\r\n      `Invalid product ID used with action ${\r\n        action.type\r\n      }: the ID must already be in the cart. The current value is ${JSON.stringify(\r\n        action.payload.id\r\n      )}.`,\r\n      action\r\n    )\r\n    return\r\n  }\r\n\r\n  return next(action)\r\n}\r\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport {\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER\r\n} from 'redux-persist'\r\nimport { isClient } from '../utilities/SSR'\r\n\r\nimport { updateFormattedTotalPrice, formatCurrencyString } from './Entry'\r\nimport { reducer, actions, initialState } from './slice'\r\n\r\nimport { handleStripe } from './middleware/stripe'\r\nimport { handleWarnings } from './middleware/warnings'\r\n\r\nexport async function filterCart(cartDetails, filter) {\r\n  const filteredCart = {}\r\n\r\n  for (const sku in cartDetails) {\r\n    const entry = cartDetails[sku]\r\n    if (await filter(entry)) filteredCart[sku] = entry\r\n  }\r\n\r\n  return filteredCart\r\n}\r\n\r\nfunction noop() {}\r\nfunction createNoopStorage() {\r\n  return {\r\n    getItem: noop,\r\n    setItem: noop,\r\n    removeItem: noop\r\n  }\r\n}\r\n\r\nfunction createLocalStorage() {\r\n  return {\r\n    async getItem(key) {\r\n      return window.localStorage.getItem(key)\r\n    },\r\n    async setItem(key, value) {\r\n      return window.localStorage.setItem(key, value)\r\n    },\r\n    async removeItem(key) {\r\n      return window.localStorage.removeItem(key)\r\n    }\r\n  }\r\n}\r\n\r\nexport { reducer, actions, formatCurrencyString }\r\n\r\nexport function createShoppingCartStore(options) {\r\n  options.shouldPersist = options.shouldPersist ?? true\r\n\r\n  if (!isClient) {\r\n    return configureStore({\r\n      reducer,\r\n      preloadedState: { ...initialState, ...options }\r\n    })\r\n  }\r\n  let storage\r\n  if (isClient) storage = options.storage || createLocalStorage()\r\n  else storage = createNoopStorage()\r\n  delete options.storage\r\n\r\n  const persistConfig = {\r\n    key: options.persistKey ?? 'root',\r\n    version: 1,\r\n    storage,\r\n    whitelist: ['cartCount', 'totalPrice', 'formattedTotalPrice', 'cartDetails']\r\n  }\r\n  const persistedReducer = persistReducer(persistConfig, reducer)\r\n\r\n  const newInitialState = { ...initialState, ...options }\r\n  updateFormattedTotalPrice(newInitialState)\r\n\r\n  return configureStore({\r\n    reducer: options.shouldPersist ? persistedReducer : reducer,\r\n    preloadedState: newInitialState,\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n          ignoredActionPaths: ['persist']\r\n        }\r\n      }).concat(handleStripe, handleWarnings)\r\n  })\r\n}\r\n\r\n// For non-React apps\r\nexport { persistStore as createPersistedStore } from 'redux-persist'\r\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport { actions, initialState } from '../core/slice'\r\nimport {\r\n  createShoppingCartStore,\r\n  formatCurrencyString,\r\n  filterCart\r\n} from '../core/index'\r\nimport { bindActionCreators } from '@reduxjs/toolkit'\r\nimport { createDispatchHook, createSelectorHook, Provider } from 'react-redux'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { persistStore } from 'redux-persist'\r\n\r\nimport { isClient } from '../utilities/SSR'\r\n\r\nexport { actions, filterCart, formatCurrencyString }\r\nexport const CartContext = React.createContext(initialState)\r\nexport const useSelector = createSelectorHook(CartContext)\r\nexport const useDispatch = createDispatchHook(CartContext)\r\n\r\nexport function CartProvider({ loading = null, children, ...props }) {\r\n  const store = React.useMemo(() => createShoppingCartStore(props), [props])\r\n\r\n  if (isClient && props.shouldPersist) {\r\n    const persistor = persistStore(store)\r\n\r\n    return (\r\n      <Provider context={CartContext} store={store}>\r\n        <PersistGate\r\n          persistor={persistor}\r\n          children={(bootstrapped) => {\r\n            if (!bootstrapped) return loading\r\n            return children\r\n          }}\r\n        />\r\n      </Provider>\r\n    )\r\n  } else if (isClient && !props.shouldPersist) {\r\n    return (\r\n      <Provider context={CartContext} store={store}>\r\n        {children}\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport function useShoppingCart(\r\n  selector = (state) => ({ ...state }),\r\n  equalityFn\r\n) {\r\n  const dispatch = useDispatch()\r\n  const cartState = useSelector(selector, equalityFn)\r\n\r\n  const shoppingCart = React.useMemo(() => {\r\n    const cartActions = bindActionCreators(actions, dispatch)\r\n    return { ...cartState, ...cartActions }\r\n  }, [cartState, dispatch])\r\n\r\n  React.useDebugValue(shoppingCart)\r\n  return shoppingCart\r\n}\r\n\r\nexport function DebugCart(props) {\r\n  const cart = useShoppingCart((state) => state)\r\n  const cartPropertyRows = Object.entries(cart)\r\n    .filter(([, value]) => typeof value !== 'function')\r\n    .map(([key, value]) => (\r\n      <tr key={key}>\r\n        <td>{key}</td>\r\n        <td>\r\n          {typeof value === 'object' ? (\r\n            <button onClick={() => console.log(value)}>Log value</button>\r\n          ) : (\r\n            JSON.stringify(value)\r\n          )}\r\n        </td>\r\n      </tr>\r\n    ))\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        top: 50,\r\n        right: 50,\r\n        backgroundColor: '#eee',\r\n        textAlign: 'left',\r\n        maxWidth: 300,\r\n        padding: 20,\r\n        borderSpacing: '25px 5px',\r\n        overflow: 'auto'\r\n      }}\r\n      {...props}\r\n    >\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Key</th>\r\n            <th>Value</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{cartPropertyRows}</tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}