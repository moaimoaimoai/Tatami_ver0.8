{"ast":null,"code":"import _slicedToArray from\"/Users/hirakuono/Desktop/\\u958B\\u767A/tatamiproject_0.8_local/tatami-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import Header from'../components/Header';import Leftnav from'../components/Leftnav';import Appfooter from'../components/Appfooter';import RecommenduserEach from'../components/RecommenduserEach';import{useContext}from'react';import{ApiContext}from'../context/ApiContext';import{useCookies}from\"react-cookie\";import LoginComponent from\"../components/LoginComponent\";import ProfileRecommender from\"../components/ProfileRecommender\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Recommenduser=function Recommenduser(){var _useContext=useContext(ApiContext),profiles=_useContext.profiles,profile=_useContext.profile;var _useState=useState(),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),showprofiles=_useState4[0],setShowprofiles=_useState4[1];var handleInputChange=function handleInputChange(e){setInputValue(e.target.value);search(e.target.value);};var _useCookies=useCookies([\"current-token\"]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var search=function search(value){// 検索欄への入力が空の場合は早期return\nif(value===\"\"){setShowprofiles(profiles);return;}var serchedprofiles=profiles.filter(function(user){return Object.values(user.nickName).filter(function(item){return item!==undefined&&item!==null&&item.toUpperCase().indexOf(value.toUpperCase())!==-1;}).length>0;});setShowprofiles(serchedprofiles);};var defaultProfiles=profile.id&&profiles&&profiles.map(function(profile){return/*#__PURE__*/_jsx(RecommenduserEach,{profileeach:profile},profile.nickName);});var listProfiles=profile.id&&showprofiles&&showprofiles.map(function(profile){return/*#__PURE__*/_jsx(RecommenduserEach,{profileeach:profile},profile.nickName);});return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Leftnav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content right-chat-active\",children:/*#__PURE__*/_jsx(\"div\",{className:\"middle-sidebar-bottom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"middle-sidebar-left pe-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-xss w-100 d-block d-flex border-0 p-4 mb-3\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"fw-700 mb-0 mt-0 font-md text-grey-900 d-flex align-items-center\",children:[\"\\u30E6\\u30FC\\u30B6\\u30FC\",/*#__PURE__*/_jsx(\"form\",{className:\"pt-0 pb-0 ms-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-form-2 ms-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-search font-xss\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputChange,className:\"form-control text-grey-500 mb-0 bg-greylight theme-dark-bg border-0\",placeholder:\"\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row ps-3 pe-3\",children:[!cookies[\"current-token\"]?/*#__PURE__*/_jsx(\"div\",{className:\"card w-100 shadow-xss rounded-xxl border-0 mb-3 me-3 bg-current\",children:/*#__PURE__*/_jsx(LoginComponent,{})}):/*#__PURE__*/_jsx(_Fragment,{}),!profile.id?/*#__PURE__*/_jsx(\"div\",{className:\"card w-100 shadow-xss rounded-xxl border-0 mb-3 bg-current\",children:/*#__PURE__*/_jsx(ProfileRecommender,{})}):/*#__PURE__*/_jsx(_Fragment,{}),inputValue?listProfiles:defaultProfiles]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card w-100 shadow-xss rounded-xxl border-0 p-4 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"snippet mt-2 ms-auto me-auto\",\"data-title\":\".dot-typing\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stage\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dot-typing\"})})})})})]})})})})}),/*#__PURE__*/_jsx(Appfooter,{})]});};export default Recommenduser;","map":{"version":3,"names":["React","Fragment","useState","Header","Leftnav","Appfooter","RecommenduserEach","useContext","ApiContext","useCookies","LoginComponent","ProfileRecommender","jsx","_jsx","jsxs","_jsxs","_Fragment","Recommenduser","_useContext","profiles","profile","_useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","showprofiles","setShowprofiles","handleInputChange","e","target","value","search","_useCookies","_useCookies2","cookies","setCookie","removeCookie","serchedprofiles","filter","user","Object","values","nickName","item","undefined","toUpperCase","indexOf","length","defaultProfiles","id","map","profileeach","listProfiles","children","className","type","onChange","placeholder"],"sources":["/Users/hirakuono/Desktop/開発/tatamiproject_0.8_local/tatami-react/src/pages/Recommenduser.jsx"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport Header from '../components/Header';\nimport Leftnav from '../components/Leftnav';\nimport Appfooter from '../components/Appfooter';\nimport RecommenduserEach from '../components/RecommenduserEach'\nimport { useContext } from 'react';\nimport { ApiContext } from '../context/ApiContext';\nimport { useCookies } from \"react-cookie\";\nimport LoginComponent from \"../components/LoginComponent\";\nimport ProfileRecommender from \"../components/ProfileRecommender\";\n\nconst Recommenduser = () => {\n    const { profiles, profile} = useContext(\n        ApiContext\n      );\n\n    const [inputValue, setInputValue] = useState()\n    const [showprofiles, setShowprofiles] = useState()\n\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value)\n        search(e.target.value)\n      }\n      const [cookies, setCookie, removeCookie] = useCookies([\"current-token\"]);\n\n    const search = (value) => {\n        // 検索欄への入力が空の場合は早期return\n        if (value === \"\") {\n          setShowprofiles(profiles);\n          return;\n        }\n    \n        const serchedprofiles = profiles.filter(\n          (user) =>\n\n            Object.values(user.nickName).filter(\n                (item) =>\n                    item !== undefined &&\n                    item !== null &&\n                    item.toUpperCase().indexOf(value.toUpperCase()) !== -1\n            ).length > 0\n        );\n    \n        setShowprofiles(serchedprofiles);\n      }\n\n    const defaultProfiles =\n    profile.id &&\n    profiles &&\n    profiles.map(profile =>\n        <RecommenduserEach\n        key={profile.nickName}\n        profileeach = {profile}\n        />\n        )\n\n    const listProfiles =\n    profile.id &&\n    showprofiles &&\n    showprofiles.map(profile =>\n        <RecommenduserEach\n        key={profile.nickName}\n        profileeach = {profile}\n        />\n        )\n\n\n    \n        return (\n            <Fragment>\n    \n                <Header />\n                <Leftnav />\n    \n                <div className=\"main-content right-chat-active\">\n                    <div className=\"middle-sidebar-bottom\">\n                        <div className=\"middle-sidebar-left pe-0\">\n                            <div className=\"row\">\n                                <div className=\"col-xl-12\">\n                                    \n\n                                <div className='card shadow-xss w-100 d-block d-flex border-0 p-4 mb-3'>\n                                    <h2 className='fw-700 mb-0 mt-0 font-md text-grey-900 d-flex align-items-center'>ユーザー\n                                    <form  className='pt-0 pb-0 ms-auto'>\n                                        <div className='search-form-2 ms-1'>\n                                            <i className='ti-search font-xss'></i>\n                                            <input type='text' value={inputValue} onChange={handleInputChange} className='form-control text-grey-500 mb-0 bg-greylight theme-dark-bg border-0' placeholder=''/>\n                                        </div>\n                                    </form>\n                                    {/* <a href='/' className='btn-round-md ms-2 bg-greylight theme-dark-bg rounded-3'><i className='feather-filter font-xss text-grey-500'></i></a> */}\n\n                                    </h2>\n\n                                </div>\n                                    <div className=\"row ps-3 pe-3\">\n                                        {!cookies[\"current-token\"] ?\n                                        <div className='card w-100 shadow-xss rounded-xxl border-0 mb-3 me-3 bg-current'>\n                                        <LoginComponent />\n                                        </div>:\n                                        <></>\n                                        }\n                                        {!profile.id ?\n                                        <div className='card w-100 shadow-xss rounded-xxl border-0 mb-3 bg-current'>\n                                        <ProfileRecommender />\n                                        </div>:\n                                        <></>\n                                        }\n                                        {inputValue ?\n                                        listProfiles:\n                                        defaultProfiles}\n                                    </div>\n\n                                    <div className=\"card-body p-0 mb-3\">\n                                        <div className=\"card w-100 shadow-xss rounded-xxl border-0 p-4 mb-3\">\n                                        <div className=\"snippet mt-2 ms-auto me-auto\" data-title=\".dot-typing\">\n                                            <div className=\"stage\">\n                                            <div className=\"dot-typing\"></div>\n                                            </div>\n                                        </div>\n                                        </div>\n                                    </div>  \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <Appfooter /> \n     \n            </Fragment>\n        );\n    \n}\n\nexport default Recommenduser;"],"mappings":"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"},"metadata":{},"sourceType":"module"}