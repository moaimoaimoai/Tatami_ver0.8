{"ast":null,"code":"import React,{useContext}from'react';import{ApiContext}from'../context/ApiContext';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RequestEach=function RequestEach(_ref){var ask=_ref.ask,prof=_ref.prof;var _useContext=useContext(ApiContext),profile=_useContext.profile,newUserIntUser=_useContext.newUserIntUser,getUserInterest=_useContext.getUserInterest,changeApprovalRequest=_useContext.changeApprovalRequest,getFriendRequest=_useContext.getFriendRequest;var history=useHistory();var changeApproval=function changeApproval(){var uploadDataAsk=new FormData();uploadDataAsk.append(\"askTo\",ask.askTo);uploadDataAsk.append(\"approved\",true);changeApprovalRequest(uploadDataAsk,ask);getFriendRequest();};var toSpecificUserPage=function toSpecificUserPage(){if(profile.userProfile===prof.userProfile){console.log(\"本人\");history.push(\"/userpage\");}else{var createdIntData=new FormData();createdIntData.append(\"intUserId\",prof.userProfile);newUserIntUser(createdIntData);console.log(\"ちがう\");getUserInterest();history.push(\"/specificuserpage\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 col-sm-4 pe-2 ps-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card d-block border-0 shadow-xss rounded-3 overflow-hidden mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-block w-100 ps-3 pe-3 pb-4 text-center\",children:[prof.img?/*#__PURE__*/_jsx(\"figure\",{className:\"overflow-hidden avatar ms-auto me-auto mb-0 position-relative w65 z-index-1 pointer\",onClick:function onClick(){return toSpecificUserPage();},children:/*#__PURE__*/_jsx(\"img\",{src:prof.img,alt:\"avater\",className:\"float-right p-0 bg-white rounded-circle w-100 shadow-xss\"})}):/*#__PURE__*/_jsx(\"figure\",{className:\"overflow-hidden avatar ms-auto me-auto mb-0 position-relative w65 z-index-1\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/media/image/\\u30B5\\u30E9\\u30EA\\u30FC\\u30DE\\u30F3.img\",alt:\"avater\",className:\"float-right p-0 bg-white rounded-circle w-100 shadow-xss\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix w-100\"}),/*#__PURE__*/_jsxs(\"h4\",{className:\"fw-700 font-xsss mt-3 mb-0\",children:[prof.nickName,\" \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-500 font-xssss text-grey-500 mt-0 mb-3\",children:prof.created_on}),!ask.approved?/*#__PURE__*/_jsx(\"button\",{href:\"\",className:\"mt-0 btn pt-2 pb-2 ps-3 pe-3 lh-24 ms-1 ls-3 d-inline-block rounded-xl bg-success font-xsssss fw-700 ls-lg text-white\",onClick:function onClick(){return changeApproval();},children:\"\\u627F\\u8A8D\"}):/*#__PURE__*/_jsx(\"button\",{href:\"\",className:\"mt-0 btn pt-2 pb-2 ps-3 pe-3 lh-24 ms-1 ls-3 d-inline-block rounded-xl bg-success font-xsssss fw-700 ls-lg text-white\",disabled:true,children:\"\\u627F\\u8A8D\"})]})})});};export default RequestEach;","map":{"version":3,"names":["React","useContext","ApiContext","useHistory","jsx","_jsx","jsxs","_jsxs","RequestEach","_ref","ask","prof","_useContext","profile","newUserIntUser","getUserInterest","changeApprovalRequest","getFriendRequest","history","changeApproval","uploadDataAsk","FormData","append","askTo","toSpecificUserPage","userProfile","console","log","push","createdIntData","className","children","img","onClick","src","alt","nickName","created_on","approved","href","disabled"],"sources":["/Users/hirakuono/Desktop/開発/tatamiproject_0.5/tatami-react/src/components/RequestEach.jsx"],"sourcesContent":["import React, {useContext} from 'react'\nimport { ApiContext } from '../context/ApiContext'\nimport { useHistory } from \"react-router-dom\";\n\n\nconst RequestEach = ({ ask, prof}) => {\n    const { profile, newUserIntUser, getUserInterest, changeApprovalRequest,getFriendRequest } = useContext(ApiContext);\n    const history = useHistory()\n\n    const changeApproval = () => {\n        const uploadDataAsk = new FormData();\n        uploadDataAsk.append(\"askTo\", ask.askTo);\n        uploadDataAsk.append(\"approved\", true);\n        changeApprovalRequest(uploadDataAsk, ask);\n        getFriendRequest()\n      };\n    \n    const toSpecificUserPage = () => {\n    if (profile.userProfile === prof.userProfile) {\n        console.log(\"本人\")\n        history.push(\"/userpage\")\n    \n    } else {\n        const createdIntData = new FormData()\n        createdIntData.append(\"intUserId\", prof.userProfile)\n        newUserIntUser(createdIntData)\n        console.log(\"ちがう\")\n        getUserInterest()\n        history.push(\"/specificuserpage\")}\n    }\n            \n\n    \n    \n    return (\n            <div className=\"col-md-3 col-sm-4 pe-2 ps-2\">\n                <div className=\"card d-block border-0 shadow-xss rounded-3 overflow-hidden mb-3\">\n                    <div className=\"card-body d-block w-100 ps-3 pe-3 pb-4 text-center\">\n                        {prof.img ? (\n                        <figure className=\"overflow-hidden avatar ms-auto me-auto mb-0 position-relative w65 z-index-1 pointer\" onClick={() => toSpecificUserPage()}><img src={prof.img} alt=\"avater\" className=\"float-right p-0 bg-white rounded-circle w-100 shadow-xss\" /></figure>): (\n                        <figure className=\"overflow-hidden avatar ms-auto me-auto mb-0 position-relative w65 z-index-1\"><img src=\"http://127.0.0.1:8000/media/image/サラリーマン.img\" alt=\"avater\" className=\"float-right p-0 bg-white rounded-circle w-100 shadow-xss\" /></figure>)}\n                        <div className=\"clearfix w-100\"></div>\n                        <h4 className=\"fw-700 font-xsss mt-3 mb-0\">{prof.nickName} </h4>\n                        <p className=\"fw-500 font-xssss text-grey-500 mt-0 mb-3\">{prof.created_on}</p>\n                        {!ask.approved ? (\n                        <button href=\"\" className=\"mt-0 btn pt-2 pb-2 ps-3 pe-3 lh-24 ms-1 ls-3 d-inline-block rounded-xl bg-success font-xsssss fw-700 ls-lg text-white\" onClick={() => changeApproval()}>承認</button>):(\n                        <button href=\"\" className=\"mt-0 btn pt-2 pb-2 ps-3 pe-3 lh-24 ms-1 ls-3 d-inline-block rounded-xl bg-success font-xsssss fw-700 ls-lg text-white\" disabled>承認</button>)}\n                    </div>\n                </div>\n            </div> \n    )\n}\n\nexport default RequestEach"],"mappings":"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"},"metadata":{},"sourceType":"module"}